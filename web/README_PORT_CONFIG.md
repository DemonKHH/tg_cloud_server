# 端口配置说明

## ✅ 简化后的端口配置

本项目**只需要一个端口（8080）**，所有功能已集成在一个服务中。

### 当前架构

```
┌─────────────────────────────────────┐
│    Web API 服务 (端口 8080)          │
├─────────────────────────────────────┤
│  - RESTful API 接口                 │
│  - TG Manager（内部服务）            │
│  - Task Scheduler（内部服务）        │
│  - AI Service（内部服务）           │
│  - WebSocket 实时通信               │
│  - 定时任务（Cron）                 │
└─────────────────────────────────────┘
```

### 配置说明

在 `configs/config.yaml` 中，只需配置：

```yaml
server:
  web_api:
    host: "0.0.0.0"
    port: 8080
```

其他端口配置（8081、8082、8083）已废弃，保留仅为向后兼容。

### 为什么只需要一个端口？

1. **单一服务架构**：所有功能都集成在 `web-api` 服务中
2. **内部服务调用**：TG Manager、Task Scheduler、AI Service 都作为内部服务运行
3. **简化部署**：不需要管理多个端口和多个服务进程
4. **统一入口**：所有请求通过一个入口处理，便于统一管理

### 环境变量

在 `.env` 文件中只需配置：

```bash
WEB_API_PORT=8080
```

其他端口环境变量可以忽略或注释掉。

